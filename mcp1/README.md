# Bare Minimum MCP Server

A minimal MCP (Model Context Protocol) server with 2 tools to demonstrate AI-to-code entry points.

## What Claude Sees

When connected to Claude Desktop, this server appears as:

**Server Name:** "Demo MCP"  
**Description:** "Echo server tools for basic operations like adding numbers and getting demo information"

**Available Tools:**
- `add_numbers` - "Add two numbers together."
- `get_info` - "Get MCP demo information."

## Installation

### Prerequisites
```bash
# Install FastMCP
pip install fastmcp
```

### Download and Run
```bash
# Save the code as server.py, then:
python3 server.py
```

## Claude Desktop Configuration

Add this to your Claude Desktop config file:

**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`  
**Windows:** `%APPDATA%/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "demo-mcp": {
      "command": "python3",
      "args": ["/full/path/to/your/server.py"],
      "env": {}
    }
  }
}
```

Replace `/full/path/to/your/server.py` with the actual path to your server file.

## HTTP Endpoint (Optional)

To run as HTTP server instead of stdio:

```python
# Modify the last line in server.py to:
if __name__ == "__main__":
    mcp.run(transport="http", host="127.0.0.1", port=8000)
```

Then access via: `http://127.0.0.1:8000/mcp`

## Code Mapping - What Claude Sees vs. Code

### 1. Server Name
**Claude sees:** "Demo MCP"  
**Code source:** `FastMCP("Demo MCP")` - first parameter

### 2. Server Description  
**Claude sees:** "Echo server tools for basic operations like adding numbers and getting demo information"  
**Code source:** Auto-generated by FastMCP based on tool names and docstrings

### 3. Tool Names
**Claude sees:** `add_numbers`, `get_info`  
**Code source:** Function names with `@mcp.tool` decorator
```python
@mcp.tool
def add_numbers(...):  # ← Function name becomes tool name
```

### 4. Tool Descriptions
**Claude sees:** "Add two numbers together." and "Get MCP demo information."  
**Code source:** Function docstrings (first line)
```python
def add_numbers(a: float, b: float) -> dict:
    """Add two numbers together."""  # ← This becomes tool description
```

### 5. Tool Parameters
**Claude sees:** Parameters `a` and `b` (both floats) for `add_numbers`  
**Code source:** Function signature type hints
```python
def add_numbers(a: float, b: float):  # ← Claude reads these parameters
    #              ↑        ↑
    #        parameter   parameter
    #          name        type
```

### 6. Tool Results
**Claude sees:** JSON response like `{"result": 8}`  
**Code source:** Function return value
```python
return {"result": a + b}  # ← This JSON goes to Claude
```

## Testing

### Test with Claude Desktop
1. Configure Claude Desktop (see above)
2. Restart Claude Desktop
3. Try these prompts:
   - "Add 5 and 3"
   - "Use add_numbers to calculate 10 + 15"
   - "Get demo information"

### Test via HTTP (if configured)
```bash
curl -X POST http://127.0.0.1:8000/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/call",
    "params": {
      "name": "add_numbers",
      "arguments": {"a": 5, "b": 3}
    }
  }'
```

## Understanding MCP Entry Points

**The Flow:**
1. **User asks Claude:** "Add 5 and 3"
2. **Claude calls MCP tool:** `add_numbers(a=5, b=3)`
3. **Python function executes:** `return {"result": 5 + 3}`
4. **Claude gets result:** `{"result": 8}`
5. **Claude responds to user:** "The result is 8"

**Key Insight:** MCP creates bridges between AI requests and your Python functions. The function signature and docstring determine what Claude sees and how it can use your code.

## Troubleshooting

**Claude doesn't see the server:**
- Check the config file path and JSON syntax
- Ensure the server file path is absolute
- Restart Claude Desktop after config changes

**Tools not working:**
- Check server is running without errors
- Verify function signatures match what Claude is sending
- Look at server console output for debugging

**Import errors:**
- Install FastMCP: `pip install fastmcp`
- Check Python version (3.8+ recommended)
